<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>GSO Dashboard</title>
    <!-- plugins:css -->
    <link rel="stylesheet" th:href="@{/vendors/iconfonts/mdi/css/materialdesignicons.min.css}">
    <link rel="stylesheet" th:href="@{/vendors/iconfonts/puse-icons-feather/feather.css}">
    <link rel="stylesheet" th:href="@{/vendors/css/vendor.bundle.base.css}">
    <link rel="stylesheet" th:href="@{/vendors/css/vendor.bundle.addons.css}">
    <!-- endinject -->
    <!-- plugin css for this page -->
    <!-- End plugin css for this page -->
    <link rel="stylesheet" th:href="@{/css/select2.min.css}">
    <!-- inject:css -->
    <link rel="stylesheet" th:href="@{/css/shared/style.css}">
    <link rel="stylesheet" th:href="@{/css/estilos.css}">
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" th:href="@{/css/demo_1/style.css}">
    <!-- End Layout styles -->
    <link rel="shortcut icon" th:href="@{/images/favicon.png}" /> 
  </head>

<body class="sidebar-toggle-display sidebar-hidden">
	<div class="container-scroller">	
	<nav th:replace="fragments/shared :: header"></nav>
      <div class="container-fluid page-body-wrapper">
      	<nav th:replace="fragments/shared :: sidebar"></nav>
      	<div class="main-panel">
          <div class="content-wrapper">
<!-----------------------------------------------------------------------REGISTRO  ------------------------------------------------------->
			 <div class="col-12 grid-margin">
                <div class="card">                
                  <div class="card-body"> 
                  <h4>Registro de horas</h4>            
                      <div class="grupo_datos grupo_enmarcado">      
                      <div class="row">
                       <div class="col-md-8">
                       <div class="row">                    	
                        <div class="col-md-12">
                          <div class="form-group row">
                            <label class="col-sm-3 col-form-label texto_derecha">Usuario:</label>
                            <div class="col-sm-9">
                            	<span class="fecha_plomo" th:text="${desarrollador.nombre}"></span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">                    	
                        <div class="col-md-12">
                          <div class="form-group row">
                            <label class="col-sm-3 col-form-label texto_derecha">Fábrica:</label>
                            <div class="col-sm-9">
                            	<span class="fecha_plomo" th:text="${desarrollador.fabrica.nombre}"></span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">                    	
                        <div class="col-md-12">
                          <div class="form-group row">
                            <label class="col-sm-3 col-form-label texto_derecha">Fecha:</label>
                            <div class="col-sm-9">
                            	<input type="date" class="form-control" id="fecha_registro" > 
                            </div>
                          </div>
                        </div>
                      </div>
                       	<div class="row">                      	
	                        <div class="col-md-12">
	                          <div class="form-group row">
	                            <label class="col-sm-3 col-form-label texto_derecha">Jira:</label>
	                            <div class="col-sm-9">
		                            <div class="d-flex">
		                               <input type="text" placeholder="Jira" id="id_input" class="form-control">
		                               <button onclick="modal_buscar_jira()" class="btn btn-inverse-dark"><i class="mdi mdi-file-find mdi-24px"></i></button>                             	
		                           	</div>
		                           	<div class="mensaje_resultado" id="resultado"></div>
	                            </div>
	                          </div>
	                        </div>
	                 	</div> 
	                 	
	                  	
                       </div>
                       <div class="col-md-4">
                       	<div class="grafico_horas">
                       		<h6 class="titulo_pie">Horas del requerimiento</h6>
                       		<div id="c3-pie-chart1" ></div>
                       	</div>
                       </div>
                       </div>
                       <div class="linea_div"></div>
						<div class="row">                      	
	                        <div class="col-md-12">
	                          <div class="form-group row">
	                            <label class="col-sm-3 col-form-label texto_derecha">Nro Horas:</label>
	                            <div class="col-sm-3">
	                               <input onblur="clear_alert('alerta_horas',this)" type="text" class="form-control" id="nro_horas">
	                               <span id="alerta_horas" class="alerta_forms"></span>
	                            </div>	                            
	                            <div class="col-sm-6">
	                            	<div class="botones_reg_horas">
				                 		<button onclick="agregar()" class="btn btn-primary mr-2">Agregar</button>			                      		
				                 	</div>	                            
	                            </div>
	                          </div>
	                        </div>
	                 	</div>   
	                 	<div class="row">
                      	<div class="contenedor_tabla_detalle">
                      		<table class="table table-striped table-hover">
	                      		<thead>
	                      			<tr>
	                      				<th>Jira</th>
	                      				<th>Tipo</th>
	                      				<th>Resumen</th>	                      				
	                      				<th>Fecha</th>
	                      				<th>H/H</th>	
	                      				<th>Estado</th>     
	                      				<th>Quitar</th>
	                      				<th>Enviar</th>
	                      			</tr>
	                      		</thead>
	                      		<tbody id="detalle_registros">
	                      			<tr  th:each="registro:${listaRegistros}">  
	                      				<td class="no_mostrar"  th:text="${registro.id}"></td>                   				
	                      				<td  th:text="${registro.jira}"></td>
	                      				<td  th:text="${registro.tipo}"></td>
	                      				<td  th:text="${registro.resumen}"></td>
	                      				<td  th:text="${#dates.format(registro.fecha_real_trabajo, 'dd-MM-yyyy')}"></td>
	                      				<td  th:text="${registro.nro_horas}"></td>
	                      				<td  th:text="${registro.estado.descripcion}"></td>
	                      				<td>
	                      					<div class="d-flex ico_centrado texto_derecha"><button class="btn btn-icons btn-inverse-danger" onclick="quitarElemento(this)"><i class="mdi mdi-close"></i></button></div>
	                      				</td>
	                      				<td>
	                      					<div class="d-flex ico_centrado texto_derecha"><button class="btn btn-icons btn-inverse-success" onclick="enviarElemento(this)"><i class="mdi mdi-checkbox-marked-circle-outline"></i></button></div>
	                      				</td>
	                      			</tr>
	                      		</tbody>
	                      	</table>   	                      	                 	
                      	</div>                      	
                      </div> 
                    </div>                     
                  </div>
                </div>
   			</div>
<!------------------------------------------------------------------------------------------------------------>
<!-----------------------------------------------------------------------HORAS TRABAJADAS  ------------------------------------------------------->
			
			 <div class="col-12 grid-margin"> 
                <div class="card">                
                  <div class="card-body">  
                 	<h4>Horas trabajadas por día</h4>  
                  	<div id="c3_barras" ></div>       
                  </div>
                </div>
   			</div>
    			
        </div> 
      </div>
   	</div>
 	</div>
<!----------------------------------------------------------------------- MODAL ------------------------------------------------------->
	<div id="mi_modal" class="un_modal">			
		<div class="contenido_modal">
			<div class="card-body">  
				<div class="row">
				  	<div class="col-8 grid-margin">
				  		<div class="modal_header">Buscar Jira</div>	
				  	</div>				  
				  	<div class="col-4 grid-margin">
				  		<span class="close">&times;</span>
				  	</div>
			  	</div>
               	<div class="d-flex">
               		<input type="text" id="jira_buscador" placeholder="Texto para buscar" class="form-control">
               		<button onclick="buscar_jiras()" class="btn btn-primary mr-2">Buscar</button>
              	</div>
               	<br>
				<div class="tabla_modal">
	               	<table class="table table-striped table-hover">
	               		<thead>
	               			<tr>
	               				<th>Jira</th>
	               				<th>Resumen</th>
	               				<th>Tipo</th>
	               			</tr>
	               		</thead>
	               		<tbody id="tabla_buscar">
	               		</tbody>
	               	</table>	               
    			</div>
    			<p>*Solo se muestran <b>10</b> resultados. Para mejorar la búsqueda escriba algo más específico.</p>
        	</div>
		</div>
	</div>

<!------------------------------------------------------------------------------------------------------------>
<!---------------------------------              SCRIPS                      --------------------------------->
<!------------------------------------------------------------------------------------------------------------>
    <script th:src="@{/vendors/js/vendor.bundle.base.js}"></script>
    <script th:src="@{/vendors/js/vendor.bundle.addons.js}"></script>
    <script th:src="@{/js/shared/off-canvas.js}"></script>
    <script th:src="@{/js/shared/hoverable-collapse.js}"></script>
    <script th:src="@{/js/shared/misc.js}"></script>
    <script th:src="@{/js/shared/settings.js}"></script>
    <script th:src="@{/js/shared/todolist.js}"></script>    
    <script th:src="@{/js/jquery/dist/jquery.min.js}"></script>
     
    
     
    <script th:src="@{/js/select2.min.js}"></script>
    <script th:src="@{/js/reg_horas.js}"></script>
</body>
</html>
